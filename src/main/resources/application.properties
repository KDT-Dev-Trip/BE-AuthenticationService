# Default configuration  
spring.application.name=authentication-service
server.port=8080

# Eureka Client Configuration - temporarily disabled
# eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
# eureka.instance.prefer-ip-address=true

# Allow bean definition overriding (for Spring Cloud compatibility)
spring.main.allow-bean-definition-overriding=true

# Standard servlet web application
spring.main.web-application-type=servlet

# OAuth 2.0 Configuration (자체 구현)
oauth.jwt.secret=your-512-bit-secret-key-for-jwt-signing-replace-this-in-production-environment-with-secure-random-key
oauth.jwt.access-token-expiration=3600
oauth.jwt.refresh-token-expiration=2592000
oauth.issuer=https://auth.devops-platform.com
oauth.authorization-code-expiration=600

# Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/devops_platform_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=12341234
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.open-in-view=false

# Redis Configuration (로그인 시도 제한용)
spring.redis.enabled=true
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.timeout=2000ms
spring.redis.lettuce.pool.max-active=8
spring.redis.lettuce.pool.max-idle=8
spring.redis.lettuce.pool.min-idle=2
spring.redis.database=0

# Kafka Configuration (Optional - disabled for development)
# spring.kafka.bootstrap-servers=localhost:9092
# spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
# spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
# spring.kafka.consumer.group-id=auth-service-group
# spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
# spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer

# Actuator & Monitoring
management.endpoints.web.exposure.include=health,metrics,prometheus,info
management.endpoint.health.show-details=always
management.metrics.export.prometheus.enabled=true
management.health.redis.enabled=false
management.health.mail.enabled=false

# Logging Configuration
logging.level.ac.su.kdt=DEBUG
logging.level.org.springframework.security=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# JWT Configuration (Legacy - OAuth 설정으로 대체됨)
# jwt.secret=your-256-bit-secret  
# jwt.expiration=86400000

# 소셜 로그인 Configuration
oauth.social.google.client-id=your-google-client-id
oauth.social.google.client-secret=your-google-client-secret
oauth.social.google.redirect-uri=http://localhost:8080/oauth/social/google/callback

oauth.social.kakao.client-id=your-kakao-client-id
oauth.social.kakao.client-secret=your-kakao-client-secret  
oauth.social.kakao.redirect-uri=http://localhost:8080/oauth/social/kakao/callback

# API Gateway Configuration
gateway.routes[0].service-name=payment
gateway.routes[0].base-url=http://localhost:8082
gateway.routes[0].auth-required=true
gateway.routes[0].description=결제 서비스

gateway.routes[1].service-name=system
gateway.routes[1].base-url=http://localhost:8083
gateway.routes[1].auth-required=true
gateway.routes[1].description=시스템 관리 서비스

gateway.routes[2].service-name=users
gateway.routes[2].base-url=http://localhost:8084
gateway.routes[2].auth-required=true
gateway.routes[2].description=사용자 관리 서비스

gateway.routes[3].service-name=notifications
gateway.routes[3].base-url=http://localhost:8085
gateway.routes[3].auth-required=true
gateway.routes[3].description=알림 서비스

gateway.routes[4].service-name=analytics
gateway.routes[4].base-url=http://localhost:8086
gateway.routes[4].auth-required=true
gateway.routes[4].description=분석 서비스

gateway.routes[5].service-name=files
gateway.routes[5].base-url=http://localhost:8087
gateway.routes[5].auth-required=true
gateway.routes[5].description=파일 서비스

gateway.routes[6].service-name=public
gateway.routes[6].base-url=http://localhost:8088
gateway.routes[6].auth-required=false
gateway.routes[6].description=공개 API 서비스

# Email Configuration (로컬 인증용) - 개발 환경에서는 비활성화
# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=your-email@gmail.com
# spring.mail.password=your-app-password
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true

# 개발 환경용 이메일 설정 (콘솔 출력)
spring.mail.host=localhost
spring.mail.port=25
spring.mail.test-connection=false
